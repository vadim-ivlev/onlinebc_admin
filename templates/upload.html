<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>videos uploads API RG.RU</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/smoothness/jquery-ui.css"> -->
    <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">

    <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
    <script src="//code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.form/4.2.2/jquery.form.min.js"></script>
    <script src="jquery.json-viewer.js"></script>


    <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/skeleton/2.0.4/skeleton.min.css"> -->
    <!-- <link rel="stylesheet" href="//cdn.rawgit.com/necolas/normalize.css/master/normalize.css"> -->

    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Roboto:300,300italic,700,700italic">
    <link rel="stylesheet" href="//cdn.rawgit.com/necolas/normalize.css/master/normalize.css">
    <link rel="stylesheet" href="//cdn.rawgit.com/milligram/milligram/master/dist/milligram.min.css">

    <link rel="stylesheet" type="text/css" href="index.css" />
    <link rel="stylesheet" type="text/css" href="jquery.json-viewer.css" />

</head>

<body>
    <h1><span class="rgru"><span>RG.</span><span class="or">RU</span></span></h1>
    <h4>Загрузка изображений</h4>


<ol>

 
    <li>
        <div class="comment"><b>create_image()</b>Создать изображение.</div>
        <div>
            <div><span class="param-name">Methods</span><span class="class-POST">POST</span>&nbsp;&nbsp;<span class="class-GET">GET</span>&nbsp;&nbsp;</div>
            <div><span class="param-name">URL</span>/graphql</div>
            <div><span class="param-name">test URL </span><input id="example12" type="text" value="/graphql"></div>
            
            
            <div style="display: flex;">
                <form id="form12" onsubmit="
                event.preventDefault();
                $(this).ajaxSubmit({
                    url: $('#example12').val(), 
                    type: 'POST',
                    //success: function(response) {$('#result').text(JSON.stringify(response, null,'  '));}
                    success: function(response) {$('#result12').jsonViewer(response, {collapsed: true, rootCollapsable: false});}
                });">
                    
                        
                            
                            <div style="display: flex;">
                                <div>
                                    <span class="form-param-name">query</span><br>
                                </div>
                                <div>
                                
                                    <textarea name="query" style="height: 400px;">
mutation 
{
    create_image( 
        post_id: 23932, 
        source: "Интерфакс", 
        file_field_name: "image_file" 
    )
    {
        id
        post_id
        source
        filepath
        thumbs {
            type
            filepath
            height
            width
        }    
    }
}      
                                    </textarea>
                                
                                    <div class="param-comment">запрос</div>
                                </div>
                            </div>
                            
                        
                            
                            <div style="display: flex;">
                                <div>
                                    <span class="form-param-name">variables</span><br>
                                </div>
                                <div>
                                
                                    <textarea name="variables" style="height: 40px;">{}</textarea>
                                
                                    <div class="param-comment">переменные</div>
                                </div>
                            </div>
                        
                            <div style="display: flex;">
                                <div>
                                    <input type="text" class="form-param-name" value="image_file" 
                                    onchange="input = $(this).parent().next().find('input').attr('name', $(this).val())">
                                </div>
                                <div>
                                    <input name="image_file" type="file" multiple > 
                                    <div class="param-comment">файлы для загрузки</div>
                                </div>
                            </div>
                        
                    
                    <div>
                        <span class="param-name"></span>
                        <input type="submit" value="TEST">
                    </div>

                </form>
                <pre id="result12"></pre>
            </div>
        </div>
    </li>

</ol>

    

    <!-- <script src="basereader.js"></script> -->
    <!-- <script src="upload.js"></script> -->
    <script>
        // подравниваем высоты textarea
        function adjustTextareas() {
            $("textarea").each(function (textarea) {
                $(this).height($(this)[0].scrollHeight);
            });
        }

        // Accordion
        function accordionize(){
            $( "ol" ).accordion({
                header: "li > div.comment",
                active: 0,
                heightStyle: "content",
                collapsible: true,
                animate: 50,
                classes: {
                    "ui-accordion-header": "header",
                    "ui-accordion-header-collapsed": "header-collapsed",
                    "ui-accordion-content": "content"
                }
            })

            
        }

        adjustTextareas()
        accordionize()

        // setTimeout('accordionize()',200)
        </script>

</body>

</html>